var NOTIFICATION_CLASS_NAME="simple-notification";var MARGIN_BETWEEEN_NOTIFICATIONS=5;var notifications=[];var notificationCount=0;function simpleNotify(message,timeout,level){notificationCount++;var notificationId='notification'+ notificationCount;var newNotification={"id":notificationId,"message":message,"timeout":timeout,"level":level};notifications.unshift(newNotification);displayNewNotification(newNotification)}
function displayNewNotification(newNotification){var notificationsOnPage=Array.prototype.slice.call(document.getElementsByClassName(NOTIFICATION_CLASS_NAME));showNotificationAtTopOfPage(newNotification);moveDownExisitingNotifications(notificationsOnPage,document.getElementById(newNotification.id).offsetHeight);setTimeout(function(){removeNotification(newNotification.id)},newNotification.timeout*1000);}
function removeNotification(notificationId){var notificationToRemove=document.getElementById(notificationId)
notificationToRemove.className=notificationToRemove.className+" fade-out";shiftUpNotifications(notificationToRemove,notificationToRemove.clientHeight);notificationToRemove.addEventListener("transitionend",function(){removeFromDOM(notificationToRemove);},false);for(var i=0;i<notifications.length;i++){if(notifications[i].id==notificationId){notifications.splice(i,1);break;}}}
function showNotificationAtTopOfPage(notification){var div=document.createElement("div");div.className=NOTIFICATION_CLASS_NAME+" "+ notification.level;div.id=notification.id;div.style.top=MARGIN_BETWEEEN_NOTIFICATIONS+"px";div.style.right="-350px";div.innerHTML=notification.message;document.body.appendChild(div);}
function moveDownExisitingNotifications(notificationsOnPage,height){if(notificationsOnPage&&notificationsOnPage.length>=1){for(var i=0;i<notificationsOnPage.length;i++){var currentNotification=document.getElementById(notificationsOnPage[i].id);var currentTop=currentNotification.offsetTop;currentNotification.style.top=currentTop+ height+ MARGIN_BETWEEEN_NOTIFICATIONS+"px";}}}
function removeFromDOM(notificationToRemove){var removedNotificationHeight=notificationToRemove.clientHeight;notificationToRemove.parentNode.removeChild(notificationToRemove);}
function shiftUpNotifications(notificationToRemove,height){for(var i=0;i<=notifications.length;i++){if(notificationToRemove.id==notifications[i].id){for(var k=i+1;k<=notifications.length- 1;k++){var currentNotification=document.getElementById(notifications[k].id);var currentTop=currentNotification.offsetTop;currentNotification.style.top=currentTop- height- MARGIN_BETWEEEN_NOTIFICATIONS+"px";}
return;}}}